<!DOCTYPE html>
<html lang="en">

<head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="">
  <meta name="generator" content="Hugo 0.30" />

  <title>Reusable code snippets</title>

  
  
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/pure-min.css">

  <!--[if lte IE 8]>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/grids-responsive-old-ie-min.css">
  <![endif]-->
  <!--[if gt IE 8]><!-->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/pure/1.0.0/grids-responsive-min.css">
  <!--<![endif]-->

  <!--[if lte IE 8]>
  <link rel="stylesheet" href="https://dawnmy.github.io/aha/css/side-menu-old-ie.css">
  <![endif]-->
  <!--[if gt IE 8]><!-->
  <link rel="stylesheet" href="https://dawnmy.github.io/aha/css/side-menu.css">
  <!--<![endif]-->

  <link rel="stylesheet" href="https://dawnmy.github.io/aha/css/blackburn.css">

  
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">

  
  <link href="https://fonts.googleapis.com/css?family=Raleway" rel="stylesheet" type="text/css">

  
  
  <link rel="alternate" type="application/rss+xml" title="Reusable code snippets" href="https://dawnmy.github.io/aha/index.xml" />
  

  
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/androidstudio.min.css">
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
  
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/languages/yaml.min.js"></script>
  
  <script>hljs.initHighlightingOnLoad();</script>
  

  <link rel="shortcut icon" href="https://dawnmy.github.io/aha/img/favicon.ico" type="image/x-icon" />

  
    <link rel="stylesheet" href="https://dawnmy.github.io/aha/css/my.css">
  
  
    <script src="https://dawnmy.github.io/aha/js/my.js"></script>
  

</head>


<body>
<div id="layout">

  
<a href="#menu" id="menuLink" class="menu-link">
  
  <span></span>
</a>
<div id="menu">

  

  <div class="pure-menu">
    <ul class="pure-menu-list">
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="https://dawnmy.github.io/aha/post/"><i class='fa fa-list fa-fw'></i>Posts</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="https://dawnmy.github.io/aha/about/"><i class='fa fa-user fa-fw'></i>About</a>
      
        </li>
      
      
        <li class="pure-menu-item">
          <a class="pure-menu-link" href="https://dawnmy.github.io/aha/"><i class='fa fa-home fa-fw'></i>Home</a>
      
        </li>
      
    </ul>
  </div>

  <div class="pure-menu social">
  <ul class="pure-menu-list">

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://dawnmy.github.io/aha/index.xml"><i class="fa fa-rss fa-fw"></i>RSS</a>
    </li>
    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://github.com/dawnmy" target="_blank"><i class="fa fa-github-square fa-fw"></i>GitHub</a>
    </li>
    

    

    

    

    

    

    

    

    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="http://last.fm/user/*" target="_blank"><i class="fa fa-lastfm-square fa-fw"></i>Last.fm</a>
    </li>
    

    
    <li class="pure-menu-item">
      <a class="pure-menu-link" href="https://www.discogs.com/user/*" target="_blank"><i class="fa fa-music fa-fw"></i>Discogs</a>
    </li>
    

    

    

  </ul>
</div>


  <div>
  <div class="small-print">
    <small>&copy; 2017. All rights reserved.</small>
  </div>
  <div class="small-print">
    <small>Built with&nbsp;<a href="https://gohugo.io/" target="_blank">Hugo</a></small>
    <small>Theme&nbsp;<a href="https://github.com/yoshiharuyamashita/blackburn" target="_blank">Blackburn</a></small>
  </div>
</div>

</div>


  <div id="main">


<div class="header">
  <h1>Reusable code snippets</h1>
  <h2></h2>
</div>

<div class="content">
  
    <article>
  <header>
    <h2><a href="https://dawnmy.github.io/aha/post/%E8%B4%9D%E5%8F%B6%E6%96%AF%E4%B8%8Emcmc/">贝叶斯统计与MCMC</a></h2>

    <div class="post-meta">

  <div>
    <i class="fa fa-calendar fa-fw"></i>
    <time>29 Oct 2017, 21:59</time>
  </div>

  

  

  

</div>

  </header>

  <p>
  &ldquo;When the facts change, I change my mind. What do you do, sir?&rdquo; - by John Maynard Keynes
 贝叶斯思想的核心是将参数 $\theta$ 当成一个变量，我们不完全相信先验的信息而是基于先验信息并通过真实观测数据来不断更新参数值而得到参数的后验分布，这一点是与频率学派思想的最大区别。
贝叶斯定理 $P(Y|X)$ 为已知X发生后Y发生的概率，根据贝叶斯定理，
$$P( P(Y|X) = \frac{P(X\bigcap{Y})}{P(X)}=\frac{P(X|Y)\times{P(Y)}}{P(X)} $$
其中，
 $P(X\bigcap{Y})$ 就是联合概率（joint probability），表示 $X$ ， $Y$ 都发生的概率。 $P(X)$ 是 $X$ 的先验概率（prior probability）或边缘概率（marginal probability）。 $P(Y)$ 是 $Y$ 的先验概率或边缘概率。 $P(Y|X)$ 也叫后验概率（posterior probability）。  假设$Y$是离散的变量， $Y \in {y1,y2,&hellip;,yi,&hellip;,yn}$ ，上式可以改写为
$$ P(Y=yi|X) = \frac{P(X|Y=yi){P(Y=yi)}}{\sum_{i=1}^n{P(X|Y=yi)P(Y=yi)}} $$
如果用常用的贝叶斯变量名写法， $x$ 表示观测到的数据， $\theta$ 表示参数：
  </p>

  
  <footer>
    <a href="https://dawnmy.github.io/aha/post/%E8%B4%9D%E5%8F%B6%E6%96%AF%E4%B8%8Emcmc/">Read more<i class="fa fa-angle-double-right fa-fw"></i></a>
  </footer>
  
</article>

  
    <article>
  <header>
    <h2><a href="https://dawnmy.github.io/aha/post/make_customized_kraken_db/">Prepare the sequence file for making customized Kraken DB</a></h2>

    <div class="post-meta">

  <div>
    <i class="fa fa-calendar fa-fw"></i>
    <time>06 Aug 2017, 22:41</time>
  </div>

  

  

  

</div>

  </header>

  <p>
  Kraken is a nice tool for taxonomy assignment for short sequencs, but the standard Kraken database is not suitable for specific purpose and the script in Kraken for customized DB construction is out of date. I usually first download the assembly_summary.tar.gz file from NCBI and extract the download link of certain genome from this file using grep or ripgrep. Then the GI or taxid will be added to the genome sequence header to be compatible to Kraken.
  </p>

  
  <footer>
    <a href="https://dawnmy.github.io/aha/post/make_customized_kraken_db/">Read more<i class="fa fa-angle-double-right fa-fw"></i></a>
  </footer>
  
</article>

  
    <article>
  <header>
    <h2><a href="https://dawnmy.github.io/aha/post/stacked_barplot_using_ggplot/">Stacked barplot using ggplot2</a></h2>

    <div class="post-meta">

  <div>
    <i class="fa fa-calendar fa-fw"></i>
    <time>06 Aug 2017, 22:26</time>
  </div>

  

  

  

</div>

  </header>

  <p>
  library(ggplot2) library(reshape2) mt_rel &lt;- read.delim(&quot;mt_rel_gt2_forR.txt&quot;, sep = &quot;\t&quot;, stringsAsFactors = F) colnames(mt_rel) &lt;- gsub(&quot;^X&quot;, &quot;&quot;, colnames(mt_rel)) mt_rel_melt &lt;- melt(mt_rel,id.vars = &quot;Species&quot;, variable.name = &quot;samples&quot;, value.name = &quot;Abd&quot;) #library(RColorBrewer) mt_rel_melt$samples &lt;- factor(mt_rel_melt$samples, levels=rev(levels(mt_rel_melt$samples))) ggplot(mt_rel_melt, aes(x = samples, y = Abd, fill = Species)) + geom_bar(stat = &quot;identity&quot;, width = 0.7) + ylab(&quot;% abundance&quot;) + theme_bw() + theme(text = element_text(size=17, face = &quot;bold&quot;)) + scale_fill_ucscgb(alpha = 0.8) +coord_flip() ggsave(&quot;./sample_kraken_composition_rel.pdf&quot;, width = 10, height = 8)  
  </p>

  
</article>

  
    <article>
  <header>
    <h2><a href="https://dawnmy.github.io/aha/post/boxplot_with_breaks/">Boxplot with breaks on y-axis using Python</a></h2>

    <div class="post-meta">

  <div>
    <i class="fa fa-calendar fa-fw"></i>
    <time>06 Aug 2017, 21:59</time>
  </div>

  

  

  

</div>

  </header>

  <p>
  Boxplot is extremely useful to illustrate the distribution of your data statistically. However, in some cases there are massive difference on distribution between the boxes. And we do not want to show the whole y-axis as this will make the data points unvisible especially when the figure size is limited. Here is a example showing how to depict such data in a decent way with breaks on y-aixs using matplotlib.
  </p>

  
  <footer>
    <a href="https://dawnmy.github.io/aha/post/boxplot_with_breaks/">Read more<i class="fa fa-angle-double-right fa-fw"></i></a>
  </footer>
  
</article>

  
    <article>
  <header>
    <h2><a href="https://dawnmy.github.io/aha/post/first/">First</a></h2>

    <div class="post-meta">

  <div>
    <i class="fa fa-calendar fa-fw"></i>
    <time>05 Aug 2017, 20:49</time>
  </div>

  

  

  

</div>

  </header>

  <p>
  This is a test!
import pandas as pd import seaborn as sns # load csv file df = pd.read_csv(&quot;file.csv&quot;) # visualization sns.heatmap(df)  $$ x^2 + y^2 = z $$
  </p>

  
</article>

  

  


</div>

<script type="text/x-mathjax-config">
MathJax.Hub.Config({
  tex2jax: {inlineMath: [['$','$'], ['\\(','\\)']], displayMath: [['$$','$$'], ['\[','\]']]}
});
</script>
<script type="text/javascript"
  src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>

